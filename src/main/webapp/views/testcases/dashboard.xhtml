<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Testfallersteller Dashboard</title>
    <link rel="stylesheet" type="text/css" href="../../styles.css" />
</h:head>

<h:body>

<h1>Testfallersteller Dashboard</h1>

<!-- Tabelle der Testfälle -->
<h:form>
    <p:dataTable value="#{testCaseAuthorController.testCases}"
                 var="tc"
                 style="width: 70em;"
                 emptyMessage="Noch keine Testfälle vorhanden.">

        <p:column headerText="Testcase ID">
            <h:outputText value="#{tc.id}" />
        </p:column>

        <p:column headerText="Testcase Titel">
            <h:outputText value="#{tc.title}" />
        </p:column>

        <p:column headerText="Beschreibung">
            <h:outputText value="#{tc.description}" />
        </p:column>

        <!-- REQUIREMENT-ID -->
        <p:column headerText="Requirement ID">
            <h:outputText value="#{tc.requirementId}" />
        </p:column>

        <!-- REQUIREMENT-TITEL -->
        <p:column headerText="Requirement Titel">
            <h:outputText 
                value="#{requirementsEngineerController.findRequirement(tc.requirementId).title}" />
        </p:column>

    </p:dataTable>
</h:form>

<br/>

<!-- Button zum Anlegen eines neuen Testfalls -->
<h:form>
    <p:commandButton value="Testfall anlegen"
                     action="/views/testcases/createTestCase.xhtml?faces-redirect=true"
                     ajax="false"
                     styleClass="ui-button-primary" />
</h:form>

</h:body>
</html>